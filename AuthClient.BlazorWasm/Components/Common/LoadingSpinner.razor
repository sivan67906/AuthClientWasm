@namespace AuthClient.BlazorWasm.Components

<div class="loading-spinner @GetSizeClass()">
    <div class="spinner"></div>
    @if (!string.IsNullOrEmpty(Text))
    {
        <span class="spinner-text">@Text</span>
    }
</div>

@code {
    [Parameter]
    public string Size { get; set; } = "md"; // sm, md, lg

    [Parameter]
    public string? Text { get; set; }

    [Parameter]
    public string? CssClass { get; set; }

    private string GetSizeClass()
    {
        var classes = new List<string>();
        
        classes.Add(Size switch
        {
            "sm" => "spinner-sm",
            "lg" => "spinner-lg",
            _ => "spinner-md"
        });

        if (!string.IsNullOrEmpty(CssClass))
        {
            classes.Add(CssClass);
        }

        return string.Join(" ", classes);
    }
}

<style>
    .loading-spinner {
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
    }

    .spinner {
        border: 2px solid rgba(0, 0, 0, 0.1);
        border-radius: 50%;
        border-top-color: #667eea;
        animation: spin 0.8s linear infinite;
    }

    .spinner-sm .spinner {
        width: 1rem;
        height: 1rem;
        border-width: 2px;
    }

    .spinner-md .spinner {
        width: 1.5rem;
        height: 1.5rem;
        border-width: 3px;
    }

    .spinner-lg .spinner {
        width: 2.5rem;
        height: 2.5rem;
        border-width: 4px;
    }

    .spinner-text {
        font-size: 0.875rem;
        color: #666;
    }

    .spinner-sm .spinner-text {
        font-size: 0.75rem;
    }

    .spinner-lg .spinner-text {
        font-size: 1rem;
    }

    @@keyframes spin {
        to {
            transform: rotate(360deg);
        }
    }
</style>
